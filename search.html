<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>MaxSearch</title>
<style>
html, body {
  height: 100%;
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f2f2f2;
}
body {
  display: flex;
  flex-direction: column;
}
header {
  background: white;
  padding: 20px;
  box-shadow: 0 1px 5px rgba(0,0,0,0.1);
  text-align: center;
}
header h1 {
  margin: 0;
  color: #4285F4;
  font-family: 'Arial Black', sans-serif;
}
#searchBar {
  display: flex;
  justify-content: center;
  margin: 10px;
}
#userInput {
  width: 60%;
  padding: 12px;
  font-size: 16px;
  border-radius: 20px 0 0 20px;
  border: 1px solid #ccc;
  outline: none;
}
button {
  padding: 12px 20px;
  font-size: 16px;
  border: none;
  background: #4285F4;
  color: white;
  cursor: pointer;
  border-radius: 0 20px 20px 0;
}
#tabs {
  display: flex;
  justify-content: center;
  margin: 10px 0;
}
.tab {
  padding: 10px 20px;
  margin: 0 5px;
  cursor: pointer;
  border-bottom: 2px solid transparent;
  transition: all 0.2s;
}
.tab:hover {
  background: #e8e8e8;
  border-radius: 5px;
}
.tab.active {
  border-color: #4285F4;
  font-weight: bold;
}
#results {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
  max-width: 1200px;
  margin: 0 auto;
}
.result {
  background: white;
  padding: 15px;
  border-radius: 8px;
  margin-bottom: 15px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}
.result a {
  text-decoration: none;
  color: #1a0dab;
  font-size: 16px;
  font-weight: bold;
}
.result p {
  color: #4d5156;
  font-size: 14px;
}
.result img {
  max-width: 200px;
  margin-top: 5px;
  border-radius: 5px;
}
iframe.map {
  width: 100%;
  height: 400px;
  border: 0;
  border-radius: 8px;
}
</style>
</head>
<body>

<header>
  <h1>MaxSearch</h1>
</header>

<div id="searchBar">
  <input id="userInput" placeholder="Tape ta recherche...">
  <button onclick="search()">Recherche</button>
</div>

<div id="tabs">
  <div class="tab active" onclick="setTab('web')">Web</div>
  <div class="tab" onclick="setTab('images')">Images</div>
  <div class="tab" onclick="setTab('news')">Actualités</div>
  <div class="tab" onclick="setTab('videos')">Vidéos</div>
  <div class="tab" onclick="setTab('maps')">Maps</div>
</div>

<div id="results"></div>

<script>
var currentTab='web';

// Remplacer par vos vraies clés API
var apiKeyCS = "VOTRE_API_KEY_GOOGLE_CUSTOM_SEARCH";
var cxWeb = "VOTRE_CX_WEB";
var cxImages = "VOTRE_CX_IMAGES";
var newsApiKey = "VOTRE_API_KEY_NEWS";
var youtubeApiKey = "VOTRE_API_KEY_YOUTUBE";

function setTab(tab){
  currentTab = tab;
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  event.target.classList.add('active');
  document.getElementById('results').innerHTML = '';
}

function search(){
  var q = document.getElementById('userInput').value.trim();
  if(!q) return;
  var resultsDiv = document.getElementById('results');
  resultsDiv.innerHTML = '<p>Chargement...</p>';

  if(currentTab=='web' || currentTab=='images'){
    var cx = currentTab=='web' ? cxWeb : cxImages;
    fetch(`https://www.googleapis.com/customsearch/v1?key=${apiKeyCS}&cx=${cx}&q=${encodeURIComponent(q)}`)
    .then(res=>res.json())
    .then(r=>{
      displayResults(r.items || [], currentTab);
    }).catch(e=>resultsDiv.innerHTML='Erreur lors de la recherche.');
  }
  else if(currentTab=='news'){
    fetch(`https://newsapi.org/v2/everything?q=${encodeURIComponent(q)}&apiKey=${newsApiKey}&pageSize=10`)
    .then(res=>res.json())
    .then(r=>displayResults(r.articles || [], currentTab));
  }
  else if(currentTab=='videos'){
    fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&q=${encodeURIComponent(q)}&type=video&key=${youtubeApiKey}&maxResults=10`)
    .then(res=>res.json())
    .then(r=>{
      var items = r.items.map(i=>({title:i.snippet.title, link:"https://www.youtube.com/watch?v="+i.id.videoId, snippet:i.snippet.description, img:i.snippet.thumbnails.medium.url}));
      displayResults(items, currentTab);
    });
  }
  else if(currentTab=='maps'){
    resultsDiv.innerHTML=`<iframe class="map" src="https://www.google.com/maps/embed/v1/search?key=${apiKeyCS}&q=${encodeURIComponent(q)}"></iframe>`;
  }
}

function displayResults(items, type){
  var html = '';
  items.forEach(i=>{
    html += '<div class="result">';
    html += `<a href="${i.url || i.link}" target="_blank">${i.title}</a>`;
    if(i.description) html += `<p>${i.description}</p>`;
    if(i.snippet) html += `<p>${i.snippet}</p>`;
    if(i.urlToImage) html += `<img src="${i.urlToImage}">`;
    if(i.img) html += `<img src="${i.img}">`;
    html += '</div>';
  });
  document.getElementById('results').innerHTML = html || '<p>Aucun résultat trouvé</p>';
}
</script>
</body>
</html>