<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Auto Login MaxGram</title>
<style>
body{font-family:Arial,sans-serif;background:#f7f7f7;text-align:center;padding:20px;}
iframe{width:100%;height:500px;border:2px solid #ccc;border-radius:6px;}
#status{font-weight:bold;margin:15px 0;color:green;}
</style>
</head>
<body>

<h2>Connexion automatique √† MaxGram</h2>
<div id="status">En attente du chargement...</div>
<iframe id="robot-frame" src="https://maxgram.wapaxo.com/page-bot-login.html"></iframe>

<script>
const username = "Thibaut";
const password = "64932261";
const frame = document.getElementById("robot-frame");
const status = document.getElementById("status");

frame.onload = () => {
  status.textContent = "üîÑ Page charg√©e, tentative de connexion...";
  try {
    const doc = frame.contentDocument || frame.contentWindow.document;

    // Remplir les champs si pr√©sents
    const userField = doc.querySelector('input[name="user_name_"]');
    const passField = doc.querySelector('input[name="password_"]');
    const submitBtn = doc.querySelector('input[type="submit"]');

    if(userField && passField && submitBtn){
      userField.value = username;
      passField.value = password;
      status.textContent = "‚úÖ Informations remplies, connexion...";
      submitBtn.click(); // envoi automatique
    } else {
      status.textContent = "‚ö†Ô∏è Formulaire introuvable sur cette page.";
    }
  } catch(e){
    status.textContent = "‚ö†Ô∏è Erreur d‚Äôacc√®s au contenu (protection du site).";
    console.error(e);
  }
};
</script>

</body>
</html>