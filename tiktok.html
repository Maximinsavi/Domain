<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>TikTok Booster</title>
  <style>
    body { background:#000; color:#fff; font-family:Arial; text-align:center; padding:20px; }
    input { width:90%; padding:10px; font-size:18px; border-radius:10px; border:none; }
    button { padding:12px 25px; font-size:18px; margin-top:10px; border-radius:10px; border:none; background:#ff0050; color:#fff; }
    iframe { width:100%; height:600px; border:none; margin-top:20px; border-radius:20px; }
  </style>
</head>
<body>

<h1>TikTok Booster</h1>
<input type="text" id="tiktokLink" placeholder="Colle ton lien TikTok ici">
<button onclick="loadVideo()">Ouvrir</button>

<div id="result"></div>

<script>
async function expandUrl(url) {
    // Dé-raccourcit automatiquement les liens vm.tiktok.com
    const response = await fetch(url, { method: "HEAD", redirect: "follow" });
    return response.url;
}

async function loadVideo() {
    let link = document.getElementById("tiktokLink").value.trim();
    if (!link) return;

    // Dé-raccourci si lien vm.tiktok.com
    if (link.includes("vm.tiktok.com")) {
        link = await expandUrl(link);
    }

    // Nettoyage du lien
    link = link.split("?")[0];

    // Conversion en URL embed TikTok
    const embed = `https://www.tiktok.com/embed/${link.split("/video/")[1]}`;

    // Affichage dans la page
    document.getElementById("result").innerHTML = `
        <iframe src="${embed}" allowfullscreen></iframe>
    `;
}
</script>

</body>
</html>